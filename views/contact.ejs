<% include partials/pageopen.ejs %>

<div class="jumbotron gradient" style="height: 600vh; border-radius: 0em;">
    <h1 class="display-4 h1">EventSet Contacts</h1>
    <p>View, add, and update contacts here.</p>
    <!-- <p>Your contact list was updated ?? days ago.</p> -->
    <!-- use template to fill this in -->

    <button type="button" class="btn btn-primary btn-lg" id="formButton">Click here to add a contact!</button>
    <div class='card' id="card-form1" style='width: 18rem;'>
        <div class='card-body'>
            <form action='/contact/register' method='post'>
                <label for='name'>Name</label>
                <h5 class='card-title'><input class='add-contact-name' type='text' id='name' name='name' /></h5>
                <label for='email'>Email</label>
                <h6 class='card-subtitle mb-2 text-muted'><input class='add-contact-email' type='email' id='email'
                        name='email' /></h6>
                <label for='phone'>Phone Number</label>
                <h6 class='card-subtitle mb-2 text-muted'><input class='add-contact-phone' type='phone' id='phone'
                        name='phone' /></h6>
                <label for='address'>Address</label>
                <h6 class='card-subtitle mb-2 text-muted'><input class='add-contact-address' type='address' id='address'
                        name='address' /></h6>
                <button type='submit' id="formButton2">Add Contact</button>
            </form>
        </div>
    </div>
    <hr class="my-4" id="jumbo-line">

    <div class="Container">
        <div class="row d-flex position-row card-row">
            <% results.forEach((entry, index) => { %>
            <div class="card card-bottom" id="contact-card<%= index %>" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title"><%= entry.name %></h5>
                    <h6 class="card-subtitle mb-2 text-muted"><%= entry.email %></h6>
                    <h6 class="card-subtitle mb-2 text-muted"><%= entry.phone %></h6>
                    <h6 class="card-subtitle mb-2 text-muted"><%= entry.address %></h6>
                    <p class="card-text">This contact has no associated events.</p>
                    <!-- forEach: put each event in an unordered list -->
                    <!-- <a href="/" class="card-link">Home</a> -->
                    <a onClick="showForm(<%= index %>)" class="card-link">Update Contact</a>
                    <form action="/contact/delete/<%= entry.id %>?_method=delete" method="POST"><button type="submit">Delete Contact</button> </form>

                </div>
            </div>
            <div class="card hidden card-row" id="contact-form<%= index %>" style="width: 18rem;">
                <div class="card-body">
                    <form action="contact/update/<%= entry.id %>?form=true&_method=put" method="POST" id="edit">
                        <h5 class="card-title"><input class="update-contact-name" type="text" id="name" name="name"
                                value="<%= entry.name %>" /></h5>
                        <h6 class="card-subtitle mb-2 text-muted"><input class="update-contact-email" type="email"
                                id="email" name="email" value="<%= entry.email %>" /></h6>
                        <h6 class="card-subtitle mb-2 text-muted"><input class="update-contact-phone" type="phone"
                                id="phone" name="phone" value="<%= entry.phone %>" /></h6>
                        <h6 class="card-subtitle mb-2 text-muted"><input class="update-contact-address" type="address"
                                id="address" name="address" value="<%= entry.address %>" /></h6>
                        <p class="card-text">This contact has no associated events.</p>
                        <!-- forEach: put each event in an unordered list -->
                        <!-- <a href="/" class="card-link">Home</a> -->
                        <div class="">
                            <button type="submit" class="btn-link">Update Contact</button>
                        </div>
                    </form>
                </div>
            </div>
            <% }) %>
        </div>
    </div>
</div>
<% include partials/pageclose.ejs %>